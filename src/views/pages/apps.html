<div style="display: flex; flex-direction: column; gap: 20px;">

  <div style="display: flex; justify-content: space-between; align-items: center;">
    <div>
      <h2>Apps</h2>
      <p>Your apps</p>
    </div>

    <a href="/apps/create">Create a new app</a>
  </div>

  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">

    <% if (apps.length) { %>
      <% apps.forEach(app => { %>
        <article style="border: dashed; padding: 20px; border-radius: 5px; display: flex; flex-direction: column; gap: 5px;">

          <div style="display: flex; align-items: center; gap: 10px;">
            <h3>
              <a href="/apps/<%= app.id %>"><%= app.name %></a>
            </h3>

            <span style="
                  display: inline-block;
                  padding: 0px 5px;
                  font-size: 0.75rem;
                  border-radius: 5px;
                  <%= app.is_active ? 'color: red; border: 1px solid red;' : 'color: green; border: 1px solid green;' %>"
            >
              <%= app.is_active ? 'Active' : 'Inactive' %>
            </span>

          </div>

          <div>
            <% if (app.description.match(/^(https?:\/\/|www\.)/i)) { %>
              <a href="<%= app.description %>" target="_blank" rel="noopener noreferrer">
                <%= app.description %> â†—
              </a>
            <% } else { %>
              <p><%= app.description %></p>
            <% } %>
          </div>

          <div style="display: flex; gap: 20px; align-items: center;">
            <a href="/apps/<%= app.id %>/channels">Channels (<%= app.channel_count %>)</a>
            <span>|</span>
            <a href="/apps/<%= app.id %>/notifications">Notifications (<%= app.notification_count %>)</a>
          </div>

        </article>
      <% }) %>
    <% } %>

    <% if (!apps.length) { %>
      <article style="border: dashed; padding: 20px; border-radius: 5px;">
        <p>There are no apps currently</p>
      /article>
    <% } %>

  </div>

</div>
