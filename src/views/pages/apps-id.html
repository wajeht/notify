<div style="display: flex; flex-direction: column; gap: 20px; max-width: 100%;">

  <div style="display: flex; justify-content: space-between; align-items: center;">
    <div>
      <h2 style="margin: 0;"><%= app.name %></h2>
      <p>App details</p>
    </div>

    <div style="display: flex; gap: 20px;">
      <a href="#">Run test notification</a>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: auto minmax(0, 1fr); gap: 10px; border: dashed; padding: 20px; border-radius: 5px; width: 32.5%;">

    <div><strong>ID:</strong></div>
    <div><%= app.id %></div>

    <div><strong>Name:</strong></div>
    <div><%= app.name %></div>

    <div><strong>Status:</strong></div>
    <div
      style="
        width: fit-content;
        padding: 0px 5px;
        border-radius: 5px;
        <%= app.is_active ? 'color: green; border: 1px solid green;': 'color: red; border: 1px solid red;' %>"
    >
      <%= app.is_active ? 'Active' : 'Inactive' %>
    </div>

    <% if(app.url) { %>
      <div><strong>Url:</strong></div>
      <a href="<%= app.url %>" target="_blank" rel="noopener noreferrer"><%= app.url %> â†—</a>
    <% } %>

    <% if(app.description) { %>
      <div><strong>Description:</strong></div>
      <div><%= app.description %></div>
    <% } %>

    <div><strong>Created:</strong></div>
    <div><%= new Date(app.created_at).toLocaleString() %></div>

    <div><strong>Updated:</strong></div>
    <div><%= new Date(app.updated_at).toLocaleString() %></div>

    <div style="display: flex; gap: 10px; justify-content: center; align-items: center;">
      <a href="/apps/<%= app.id %>/edit">Edit</a>
      <button class="no-style-btn" onclick="document.getElementById('delete-app-modal').showModal()">Delete</button>

      <dialog id="delete-app-modal">
        <h2>Confirm Deletion</h2>
        <p>Are you sure you want to delete this app?</p>
        <form method="POST" action="/apps/<%= app.id %>/delete">
          <div style="display: flex; justify-content: flex-end; gap: 10px; margin-top: 20px;">
            <button type="button" onclick="this.closest('dialog').close()">Cancel</button>
            <button type="submit">Delete</button>
          </div>
        </form>
      </dialog>
    </div>
  </div>

</div>
