<!doctype html>
<html lang="en">

	<%- include('../components/head.html') %>

	<body style="display: flex; flex-direction: column; gap: 20px; min-height: 100vh;">

		<%- include('../components/header.html') %>

		<%- include('../components/toast.html') %>

		<main style="flex: 1; display: flex; flex-direction: column; gap: 20px;">

			<h2>Apps 📱 / <%= app.name %> 🔗</h2>

			<div style="display: grid; grid-template-columns: 15% 85%; flex: 1;">
				<aside style="display: inline-block; border-right: dashed; height: 100%;">
					<div style="display: flex; padding-right: 40px; flex-direction: column; gap: 10px">
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= path === `/apps/${app.id}` ? 'bold' : 'normal' %>; <%= path === `/apps/${app.id}` ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>">
							🛠️ App
						</a>
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= /\/apps\/.*\/channels/.test(path) ? 'bold' : 'normal' %>; <%= /\/apps\/.*\/channels/.test(path) ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>/channels">
							📡 Channels
						</a>
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= /\/apps\/.*\/notifications/.test(path) ? 'bold' : 'normal' %>; <%= /\/apps\/.*\/notifications/.test(path) ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>/notifications">
							🔔 Notifications
							<% if (unread_app_notification_count > 0) { %> (<%= unread_app_notification_count %>) <% } %>
						</a>
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= /\/apps\/.*\/settings/.test(path) ? 'bold' : 'normal' %>; <%= /\/apps\/.*\/settings/.test(path) ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>/settings">
							⚙️ Settings
						</a>
					</div>
				</aside>

				<div style="display: inline-block; padding-left: 40px;">
					<%- body %>
				</div>

			</div>

		</main>

		<%- include('../components/footer.html') %>

	</body>
</html>
