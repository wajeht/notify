<div style="display: flex; flex-direction: column; gap: 20px;">

  <div style="display: flex; justify-content: space-between; align-items: center;">
    <div>
      <h2>Apps ğŸ“±</h2>
      <p>Your apps ğŸ—‚ï¸</p>
    </div>

    <div style="display: flex; gap: 40px; align-items: center;">

      <% if (apps.length) { %>
        <div style="display: flex; gap: 20px; align-items: center;">
          <% if (path !== '/apps') { %>
            <a href="/apps">ğŸ“± All</a>
          <% } %>

          <% if (path !== '/apps?filter=inactive') { %>
            <a href="/apps?filter=inactive">ğŸ”´ Inactive</a>
          <% } %>

          <% if (path !== '/apps?filter=active') { %>
            <a href="/apps?filter=active">ğŸŸ¢ Active</a>
          <% } %>
        </div>
      <% } %>

      <a href="/apps/create">â• Create a new app</a>
    </div>
  </div>

  <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px;">

    <% if (apps.length) { %>
      <% apps.forEach(app => { %>
        <article style="border: dashed; padding: 20px; border-radius: 5px; display: flex; flex-direction: column; gap: 5px;">

          <div style="display: flex; align-items: center; gap: 10px; justify-content: space-between;">
            <h3>
              <a href="/apps/<%= app.id %>"><%= app.name %> ğŸ”—</a>
            </h3>

            <span style="
                  display: inline-block;
                  padding: 0px 5px;
                  border-radius: 5px;
                  <%= app.is_active ? 'color: green; border: 1px solid green;': 'color: red; border: 1px solid red;' %>"
            >
              <%= app.is_active ? 'ğŸŸ¢ Active' : 'ğŸ”´ Inactive' %>
            </span>

          </div>

          <% if (app.description || app.url) { %>
            <div>
              <% if (app.url) { %>
                <a href="<%= app.url %>" target="_blank" rel="noopener noreferrer">ğŸŒ <%= app.url %></a>
              <% } %>

              <% if (app.description) { %>
                <p>ğŸ“ <%= app.description %></p>
              <% } %>
            </div>
          <% } %>

          <div style="display: flex; gap: 20px; align-items: center;">
            <a href="/apps/<%= app.id %>/channels">Channels ğŸ“¡ï¸ (<%= app.channel_count %>)</a>
            <span>|</span>
            <a href="/apps/<%= app.id %>/notifications">Notifications ğŸ”” (<%= app.notification_count %>)</a>
          </div>

        </article>
      <% }) %>
    <% } %>

    <% if (!apps.length) { %>
      <article style="border: dashed; padding: 20px; border-radius: 5px;">
        <p>ğŸš« There are no apps currently</p>
      </article>
    <% } %>

  </div>

</div>
