<!doctype html>
<html lang="en">

	<%~ include('../_components/head.html') %>

	<body style="display: flex; flex-direction: column; gap: 20px; min-height: 100vh;">

		<%~ include('../_components/header.html') %>

		<%~ include('../_components/toast.html') %>

		<main style="flex: 1; display: flex; flex-direction: column; gap: 20px;">

			<h2>ğŸ“± Apps / ğŸ·ï¸ <%= app.name %></h2>

			<div style="display: grid; grid-template-columns: 15% 85%; flex: 1;">
				<aside style="display: inline-block; border-right: dashed; height: 100%;">
					<div style="display: flex; padding-right: 40px; flex-direction: column; gap: 10px">
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= path === `/apps/${app.id}` ? 'bold' : 'normal' %>; <%= path === `/apps/${app.id}` ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>">
							ğŸ“± App
						</a>
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= /\/apps\/.*\/channels/.test(path) ? 'bold' : 'normal' %>; <%= /\/apps\/.*\/channels/.test(path) ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>/channels">
							ğŸ“¡ Channels
							<% if (state.active_channel_count > 0) { %> (<%= state.active_channel_count %>) <% } %>
						</a>
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= /\/apps\/.*\/notifications/.test(path) ? 'bold' : 'normal' %>; <%= /\/apps\/.*\/notifications/.test(path) ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>/notifications">
							ğŸ”” Notifications
							<% if (state.unread_app_notification_count > 0) { %> (<%= state.unread_app_notification_count %>) <% } %>
						</a>
						<a style="border: dashed; border-radius: 5px; padding: 5px 10px; font-weight: <%= /\/apps\/.*\/settings/.test(path) ? 'bold' : 'normal' %>; <%= /\/apps\/.*\/settings/.test(path) ? 'text-decoration: underline' : null %>" href="/apps/<%= app.id %>/settings">
							âš™ï¸ Settings
						</a>
					</div>
				</aside>

				<div style="display: inline-block; padding-left: 40px;">
					<%~ body %>
				</div>

			</div>

		</main>

		<%~ include('../_components/footer.html') %>

	</body>
</html>
